<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>slide</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="6" enumb="61">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if ds_grid_height(grid_tabla) &gt; 17
if yedelaTabla &lt; ds_grid_height(grid_tabla)-18 ++yedelaTabla;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="60">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if yedelaTabla &gt; 0 --yedelaTabla;

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="56">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if focus() {
    yedelaTabla = round(yedelaTabla)
    focus(noone)
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="50">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (focus()) {
    y = middle(mouse_y-ajuste)
    yedelaTabla=(y-56)/((556-sprite_height)/max(ds_grid_height(grid_tabla)-18,1))
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>ajuste = mouse_y-y;
focus(-2)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="11">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (room!=caja) exit;

var fecha = date_current_datetime();
var _date = string(date_get_year(fecha))+"-"+string(date_get_month(fecha))+"-"+string(date_get_day(fecha))+".csv";
var today = -1;
if !file_exists(_date) {
    today = grid_tabla;
} else {
    today = load_Csv(_date)
    var _leng = ds_grid_height(grid_tabla);
    for (var i = 1; i &lt; _leng;i++) {//for each row
        var _len = ds_grid_height(grid_inven);
        for (var j = 1; j &lt; _len; j++) //it's going to search in the inventory
            if (grid_tabla[#0,i]==grid_inven[#0,j])//if it finds it
                grid_inven[#3,j] -= grid_tabla[#3,i];//it's gonna take it away
        _len = ds_grid_height(today);
        for (j = 1; j &lt; _len; j++) 
            if (grid_tabla[#0,i]==today[#0,j]) {
                today[#3,j] += grid_tabla[#3,i];
                break;
            }
        if (j == _len) {
            ds_grid_resize(today,5,_len+1)
            for(j = 0; j &lt; 5; j++)
                today[#j,_len] = grid_tabla[#j,i];
        }
    }
}
match(0)
ds_grid_resize(grid_tabla,5,1)
write_csv(grid_tabla,"venta")
write_csv(grid_inven,"file.csv")
write_csv(today,_date)
ds_grid_destroy(today)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var a = 0;
if (room!=caja)&amp;&amp;match() {
    var _len = ds_grid_height(grid_tabla)-1;
    if (room==administrador)
        for(var i = 1; i &lt; _len;i++)
            if (match(-1)==grid_tabla[#0,i]) {
                _len = i; break;}
    grid_tabla[#0,_len] = match(-1);
    grid_tabla[#1,_len] = bTexto();
    grid_tabla[#2,_len] = spinner.amount;
    grid_tabla[#3,_len] = match(-2);
    match(0,0)
    bTexto("");
    spinner.amount = 0;
    if (ds_grid_height(grid_tabla) &gt; 17) 
        yedelaTabla = max(0,_len-17);
} else {
    if is_real(bTexto()) {
        add(bTexto());
    } else {
        if bText(string_digits(bTexto())) {
            add(real(bTexto()))
        } 
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if room == caja {
    if ds_exists(grid_inven,ds_type_grid) ds_grid_destroy(grid_inven);
} else
if ds_exists(grid_tabla,ds_type_grid) {
    if (ds_grid_height(grid_tabla)&gt;1)
        write_csv(grid_tabla,"file.csv")
    ds_grid_destroy(grid_tabla);
}

gravity = 150;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="4">
      <action>
        <libid>1</libid>
        <id>408</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>-1</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_if</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>0</kind>
            <string>room==caja</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>match(0);
grid_tabla = -1;
grid_inven = -1
/*grid_tabla = load_Csv("venta")
if (grid_tabla != -1) {
    var k = 1;
    var _heig = ds_grid_height(grid_tabla)
    while (k &lt; _heig) {
        match(match()+grid_tabla[#2,k]*grid_tabla[#3,k++]);
    }
//    file_delete("venta");
} else {*/
grid_tabla=ds_grid_create(5,1);
ds_grid_set(grid_tabla,0,0,"Código de barra");
ds_grid_set(grid_tabla,1,0,"Artículo");
ds_grid_set(grid_tabla,2,0,"precio");
ds_grid_set(grid_tabla,3,0,"\#");
//}

grid_inven = load_Csv("file.csv")
if grid_inven == -1 room_goto_next();
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>421</id>
        <kind>3</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>grid_tabla=-1;

_match = array_create(2)

if file_exists("file.csv") {
    grid_tabla = load_Csv("file.csv")
} else if (instance_exists(passw_request)) {
    grid_tabla = ds_grid_create(5,1);
    grid_tabla[#0,0] = passw_request.password;
    grid_tabla[#1,0] = "artículo";
    grid_tabla[#2,0] = "precio";
    grid_tabla[#3,0] = "cantidad";
    grid_tabla[#4,0] = "tags";
    with passw_request instance_destroy()
} else {
    if (room!=administrador) {
        room_goto(administrador)
        exit;
    } else instance_create(x,y,passw_request);
}




</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>yedelaTabla = 0;
arpres=0;
dapres=0;
ajuste =0;
x = room_width-31;
image_speed=0;
if ds_exists(grid_tabla,ds_type_grid)
    image_yscale = max((55.6)/max(ds_grid_height(grid_tabla)-17,1),1)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if gravity == 150 exit;

if room == caja {
    if ds_exists(grid_inven,ds_type_grid) ds_grid_destroy(grid_inven);
    if (ds_grid_height(grid_tabla)&gt;1) write_csv(grid_tabla,"venta");
} else
write_csv(grid_tabla,"file.csv")
ds_grid_destroy(grid_tabla);



</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///tabla
var a;
a[0] = 32;
a[2] = 1094;
var b = room==caja;
draw_set_halign(fa_left);
if b {
    a[1] = 1026;
    a[3] = 1050;
    draw_text(1162,32,"Total");
//    draw_text(a[1],608,"Total:")
} else {
    draw_text(a[0],32,"Código de barras")
    a[1] = 200;
    a[3] = 1162
}
for (var i = 1;i &lt; 4;i++)//title
    if ds_exists(grid_tabla,ds_type_grid)
    draw_text(a[i-b],32,ds_grid_get(grid_tabla,i,0));

for (var j = 1; j &lt; min(ds_grid_height(grid_tabla),18);j++) 
if (grid_tabla[#1,j]!=0&amp;&amp;grid_tabla[#1,j]!="") {
    if (b) {
        if ds_exists(grid_tabla,ds_type_grid)
        draw_text(1162,(j+1)*32,real(grid_tabla[#2,j+yedelaTabla])*grid_tabla[#3,j+yedelaTabla]);//total
    }
    for (var i = b; i &lt; 4;i++) {
    if ds_exists(grid_tabla,ds_type_grid)
        draw_text(a[i-b],(j+1)*32,grid_tabla[#i,j+yedelaTabla]);
    }
} 
draw_set_halign(fa_center)

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///slide

draw_self()

draw_sprite(sprite1,arpres,x-1,32)
draw_sprite_ext(sprite1,dapres,x-1,room_height-64,1,-1,0,c_white,1);
draw_sprite(sprite_index,2+image_index,x,y-5+sprite_height/2)
if (!mouse_check_button(mb_left))
y = 56+yedelaTabla*((556-sprite_height)/max(ds_grid_height(grid_tabla)-18,1))






</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///hint

if (room!=caja) {
    if !(match()) {
        draw_text(522,616,"Ingresa el código de barras");
        draw_text(1122,616,"y la cantidad a añadir");
    } else {
        draw_text(522,616,"Ingresa el nombre de artículo");
        draw_text(1122,616,"y el precio");
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
